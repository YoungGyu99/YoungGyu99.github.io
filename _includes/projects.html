<!-- HTML 부분 -->
<div class="section-wrapper">
    <section class="section projects" id="projects">
        <div class="full-width">
            <div class="section-heading" id="featured-projects-text">Projects</div>

            <div class="project-technologies">
                <!-- 버튼 부분은 제거 -->
            </div>

            <div class="projects-wrapper">
                <!-- filled in by js -->
            </div>
        </div>
    </section>
</div>

<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<script>
    let projects_obj = [
        {
            image: 'assets/images/FestivalGuideProject.png',
            link: 'https://github.com/YoungGyu99/FestivalGuideProject',
            title: '축제길잡이',
            technologies: ['Java', 'Oracle', 'Spring', 'Apache Tomcat'],
            description: "축제의 관광객이 아닌 축제 관리자의 시점으로 축제 컨텐츠를 추천해주고 기획서 작성에 도움을 주기 위한 목적으로 제작된 축제길잡이",
        },
        {
            image: 'assets/images/FestivalBot.png',
            link: 'https://github.com/YoungGyu99/FestivalBotProject',
            title: '축제봇',
            technologies: ['Machine-Learning ', 'Html','JavaScript', ],
            description: "어떤 축제를 방문할지 모르는 관광객을 위해 원하는 축제 주제를 통한 축제 추천과 검색어 순위를 통해 어떤 내용을 많이 검색하는지 순위를 알려주는 축제봇",
        },
        // 다른 프로젝트 데이터도 필요에 따라 추가
    ];

    let render_projects = (slug) => {
        let projects_area = $('.projects-wrapper');

        // 모든 버튼 제거
        $('.project-technologies').empty();

        let projects = [];
        projects = projects_obj.map(project_mapper);
        
        projects_area.hide().html(projects).fadeIn();
    }

    let project_mapper = project => {
        return `
            <div class="wrapper">
                <div class="card radius shadowDepth1">
                    ${project.image ? 
                        `<div class="card__image border-tlr-radius">
                            <a href="${project.link}">
                                <img src="${project.image}" alt="image" id="project-image" class="border-tlr-radius">
                            </a>
                        </div>`           
                    : ''}

                    <div class="card__content card__padding">
                        <article class="card__article">
                            <h2 class="project-title"><a href="${project.link}">${project.title}</a></h2>
                            <p class="paragraph-text-normal">${project.description} ${project.demo ? `<a href="${project.demo}">Demo</a>` : ''}</p>
                        </article>

                        <div class="card__meta">
                            ${project.technologies.map(tech =>
                                `<span class="project-technology paragraph-text-normal">${tech}</span>`
                            ).join('')}
                        </div>
                    </div>
                </div>
            </div>
        `;
    }

    // 초기 렌더링
    $(document).ready(() => {
        render_projects(); // 'all' 대신에 아무것도 전달하지 않음
    });
</script>
